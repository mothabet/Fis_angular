<app-loader *ngIf="Loader"></app-loader>

<div class="d-flex flex-nowrap home">
    <!-- main content -->
    <div class="main-content p-4 main card " style="flex: 1;">
        <!-- header -->
        <app-top-screen [title]="'الاستمارات'"></app-top-screen>
        <!-- end-header -->
        <!-- start content -->
        <div class="content companies">
            <div class="header d-flex justify-content-end">
                <div class="btns d-flex">
                    <button style="padding: 6px;" type="button" class="btn-download" data-bs-toggle="modal" data-bs-target="#createForm">
                        <img src=".././../../../assets/images/list-box-outline.png" alt="">
                        إنشاء إستمارة
                    </button>

                    <button type="button" class="btn btn-add">
                        <img src=".././../../../assets/images/briefcase-plus-outli.png" alt="">
                        طباعة PDF
                    </button>

                </div>
            </div>

            <!-- end content -->

        </div>
        <!-- Start form tree  -->
        <div>
            <div class="items d-none" id="items">
                <ul>
                    <li>
                        <a style="font-size: large;">الأستمارات</a>
                        <ul id="main">
                            
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
        <!-- End form tree  -->
    </div>
    <!--start modal -->
    <!--start create form modal -->
    <div class="modal company-modal fade" id="createForm" tabindex="-1" aria-labelledby="add" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-sm">
            <div class="modal-content">
                <div class="modal-header pb-1">
                    <h5 class="modal-title" id="sendForm">إنشاء استمارة</h5>
                </div>
                <form [formGroup]="formForm">
                    <div class="modal-body pb-0">
                        <div class="row">
                            <div class="col-sm-12 mb-3">
                                <div class=" input-floating-label mb-0">
                                    <input formControlName="arName" type="text" class="form-control">
                                    <label for="user">اسم الاستمارة بالعربى</label>
                                </div>
                            </div>
                            <div class="col-sm-12 mb-2">
                                <div class=" input-floating-label mb-0">
                                    <input formControlName="enName" type="text" class="form-control"
                                        style="direction: ltr;">
                                    <label class="eng">Form Name in English</label>
                                </div>
                            </div>
                            <div class="col-12-12 mb-2">
                                <div class="form-check form-switch d-flex justify-content-between align-items-center">
                                    <label class="form-check-label" for="active" style="font-size: 14px;">فعال</label>
                                    <input formControlName="isActive" class="form-check-input" type="checkbox"
                                        id="active" checked>
                                </div>
                            </div>
                            <div class="col-sm-12 mb-3">
                                <div class=" input-floating-label mb-0">
                                    <textarea formControlName="arNotes" class="form-control input-modal" rows="2"
                                        placeholder="ملاحظات ..." style="font-size: 12px;"></textarea>
                                    <label for="user">ملاحظات بالعربى</label>
                                </div>
                            </div>
                            <div class="col-sm-12 mb-3">
                                <div class=" input-floating-label mb-0">
                                    <textarea formControlName="enNotes" class="form-control input-modal" rows="2"
                                        placeholder="Notes" style="direction: ltr; font-size: 12px;"></textarea>
                                    <label class="eng">Notes in English</label>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-12 mb-3">
                            <select formControlName="type" class="form-control" style="width: 100%;">
                                <option selected value="0">النوع</option>
                                <option value="1">سنوية</option>
                                <option value="2">ربعية</option>
                            </select>
                        </div>
                        <div class="modal-footer pt-0 ps-0" style="border-top: none;">
                            <button id="btnCancel" type="button" class="btn btn-cancel"
                                data-bs-dismiss="modal">إلغاء</button>
                            <button (click)="saveForm($event)" type="button" class="btn btn-save"
                                style="background-color: #133C8B;">حفظ</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>


    <!--end create form modal -->

    <!--start create table modal -->
    <div class="modal company-modal fade" id="createTable" tabindex="-1" aria-labelledby="add" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-sm">
            <div class="modal-content">
                <div class="modal-header pb-1">
                    <h5 class="modal-title" id="sendForm">إنشاء جدول</h5>
                </div>
                <form>
                    <div class="modal-body pb-0">
                        <div class="row">
                            <div class="col-sm-12 mb-3">
                                <div class=" input-floating-label mb-0">
                                    <input type="text" class="form-control">
                                    <label>اسم الجدول بالعربى</label>
                                </div>
                            </div>
                            <div class="col-sm-12 mb-2">
                                <div class=" input-floating-label mb-0">
                                    <input type="text" class="form-control" style="direction: ltr;">
                                    <label class="eng">Table Name in English</label>
                                </div>
                            </div>
                            <div class="col-12-12 mb-2">
                                <div class="form-check form-switch d-flex justify-content-between align-items-center">
                                    <label class="form-check-label" for="active" style="font-size: 14px;">فعال</label>
                                    <input class="form-check-input" type="checkbox" id="active" checked>
                                </div>
                            </div>

                        </div>
                        <div class="modal-footer pt-0 ps-0" style="border-top: none;">
                            <button type="button" class="btn btn-cancel" data-bs-dismiss="modal" id="tableCancel">إلغاء</button>
                            <button type="button" class="btn btn-save" style="background-color: #133C8B;" (click)="saveTable()">حفظ</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!--end create table modal -->

    <!--start create dept modal -->
    <div class="modal company-modal fade" id="createDept" tabindex="-1" aria-labelledby="add" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-sm ">
            <div class="modal-content">
                <div class="modal-header pb-1">
                    <h5 class="modal-title" id="sendForm">إنشاء قسم</h5>
                </div>
                <form>
                    <div class="modal-body pb-0">
                        <div class="row">
                            <div class="col-sm-12 mb-3">
                                <div class=" input-floating-label mb-0">
                                    <input type="text" class="form-control">
                                    <label>اسم القسم بالعربى</label>
                                </div>
                            </div>
                            <div class="col-sm-12 mb-2">
                                <div class=" input-floating-label mb-0">
                                    <input type="text" class="form-control" style="direction: ltr;">
                                    <label class="eng">Department Name in English</label>
                                </div>
                            </div>
                            <div class="col-12-12 mb-2">
                                <div class="form-check form-switch d-flex justify-content-between align-items-center">
                                    <label class="form-check-label" for="active" style="font-size: 14px;">فعال</label>
                                    <input class="form-check-input" type="checkbox" id="active" checked>
                                </div>
                            </div>

                        </div>
                        <div class="modal-footer  pt-0 ps-0" style="border-top: none;">
                            <button type="button" class="btn btn-cancel" data-bs-dismiss="modal">إلغاء</button>
                            <button type="button" class="btn btn-save" style="background-color: #133C8B;">حفظ</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!--end create dept modal -->

    <!--start create question modal -->
    <div class="modal company-modal fade" id="createQuestion" tabindex="-1" aria-labelledby="add" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg ">
            <div class="modal-content">
                <div class="modal-header pb-1">
                    <h5 class="modal-title" id="sendForm">إضافة سؤال</h5>
                </div>
                <form>
                    <div class="modal-body pb-0">
                        <div class="row">
                            <div class="col-lg-6 col-md-12 mb-3">
                                <div class=" input-floating-label mb-0">
                                    <input type="text" class="form-control">
                                    <label for="user">اسم السؤال بالعربى</label>
                                </div>
                            </div>
                            <div class="col-lg-6 col-md-12 mb-3">
                                <div class=" input-floating-label mb-0">
                                    <input type="text" class="form-control" style="direction: ltr;">
                                    <label class="eng">Question Name in English</label>
                                </div>
                            </div>
                            <div class="col-lg-6 col-md-12 mb-2">
                                <div class=" input-floating-label mb-0">
                                    <select class="form-select create-table-select" style="width: 100%;">
                                        <option selected value="0" id="messageType" name="messageType">إختيارى</option>
                                        <option value="1">One</option>
                                        <option value="2">Two</option>
                                        <option value="3">Three</option>
                                    </select>
                                    <label>نوع السؤال </label>
                                </div>
                            </div>
                            <div class="col-lg-6 col-md-12 mb-2">
                                <div class=" form-group mb-0">
                                    <input type="text" class="form-control" placeholder="ملاحظات">
                                </div>
                            </div>
                            <div class="col-12-12 mb-2">
                                <div class="d-flex justify-content-between align-items-center">
                                    <h6 style="font-size: 14px;">الاختيارات</h6>
                                    <button type="button" class="btn add-ques rounded-circle" id="add-ques"><i
                                            class="fa-solid fa-plus icon"></i></button>
                                </div>
                            </div>
                            <div class="col-12" id="row-container">
                                <div class="row" id="question-1">
                                    <div class="col-lg-6 col-12 mb-3">
                                        <div class=" input-floating-label mb-0">
                                            <input type="text" class="form-control">
                                            <label>اسم الاختيار بالعربى</label>
                                        </div>
                                    </div>
                                    <div class="col-lg-5 col-11 mb-3" id="eng-choose-label">
                                        <div class=" input-floating-label mb-0">
                                            <input type="text" class="form-control" style="direction: ltr;">
                                            <label class="eng">Choice in English</label>
                                        </div>
                                    </div>
                                    <div class="col-1" id="eng-choose-icon">
                                        <button type="button" class="trash-btn-form trash" id="delete-ques">
                                            <img src=".././../../../assets/images/trash-can-outline.png" alt=""
                                                class="trash">
                                        </button>
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class="modal-footer  pt-0 ps-0" style="border-top: none;">
                            <button type="button" class="btn btn-cancel" data-bs-dismiss="modal" id="quesCancel">إلغاء</button>
                            <button (click)="saveQues()" type="button" class="btn btn-save" style="background-color: #133C8B;">حفظ</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>